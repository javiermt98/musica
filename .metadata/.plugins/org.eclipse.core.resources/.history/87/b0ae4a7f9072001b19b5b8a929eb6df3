package ejercicios;

import java.util.List;
import java.util.Scanner;

import org.bson.Document;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.query.Query;

import com.mongodb.client.MongoClient;
import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;

import hibernate.UtilesHibernate;

import pojos.*;
public class llenar_bbdd_mongodb {

	public static void main(String[] args) {
		MongoClient mongoClient = MongoClients.create("mongodb://localhost/27017");
		MongoDatabase database = mongoClient.getDatabase("musica");
		MongoCollection<Document> collection = database.getCollection("grupo");
		SessionFactory factory = UtilesHibernate.getSessionFactory();
		Session sesion = factory.getCurrentSession();
		sesion.beginTransaction();
		Query q = sesion.createQuery("SELECT g FROM Grupo g");
		List<Grupo> listagrupos = (List<Grupo>)q.list();
		for(Grupo a:listagrupos) {
			List<Club> listaclubs = a.getClubsTocado();
			for(Club c : listaclubs) {
				Document d = new Document() {
					
				}
			}
			Document doc = new Document()
			.append("cod_grupo", a.getCod_grupo())
			.append("nombre_grupo", a.getNombre())
			.append("fecha_grupo", a.getFecha())
			.append("pais", a.getPais())
			.append("clubs",a.getClubsTocado())
			
		}

	}

}
